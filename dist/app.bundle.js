(()=>{"use strict";class e{constructor(e,t){this.length=e,this.name=t,this.health=e}hit(){this.health-=1}isSunk(){return 0===this.health}}class t{constructor(e){this.player=e,this.board=this.createBoard(),this.missedShots=[],this.shipCount=0,this.ships=[]}createBoard(){let e,t=[];for(let a=0;a<10;a++){t.push([]);for(let r=0;r<10;r++)e=new n({xCord:r,yCord:a}),t[a].push(e)}return t}placeShip(e,t){let n,a=this.unpackShip(e);n="horizontal"===t.direction?this.placeOnX(t):this.placeOnY(t),n.forEach((e=>{e.addShip(a)})),this.ships.push(a),this.shipCount+=1}unpackShip(t){return new e(t.health,t.type)}placeOnX(e){let t,{xStart:n,xEnd:a,yStart:r}=e,i=[];for(let e=n;e<a;e++)t=this.board[r][e],null!==t.contains&&this.STOP(),i.push(t);return i}placeOnY(e){let t,{xStart:n,xEnd:a,yStart:r,yEnd:i}=e,l=[];for(let e=r;e<i;e++)t=this.board[e][a],null!==t.contains&&this.STOP(),l.push(t);return l}receiveAttack(e){if(!Array.isArray(e))throw new Error(`Something somewhere blew up. Error type: ${e}`);let[t,n]=e,a=this.board[n][t];return!0===a.hit?{attack:"failed",message:"repetition"}:!1===a.hasShip?(a.hit=!0,this.missedShots.push(e),{attack:"success",message:"miss"}):!0===a.hasShip&&!1===a.hit?(a.takeHit(),!0===a.contains.isSunk()?(this.shipCount-=1,{attack:"success",message:"sunk"}):{attack:"success",message:"bullseye"}):void 0}STOP(){throw new Error("space already taken")}isEmpty(){return 0===this.shipCount}shortestShip(){return this.board()}}class n{constructor(e){this.hit=!1,this.hasShip=!1,this.position=e,this.contains=null}addShip(e){this.contains=e,this.hasShip=!0}takeHit(){this.hit=!0,this.contains.hit()}}class a{constructor(e,t="Mr BotEvil"){this.type=e,this.name=t,this.gameboard=this.createBoard(t),this.opponent=null}createBoard(e){return new t(e)}addOpponent(e){this.opponent=e}}const r={getRandomCord:function(){return[Math.round(9*Math.random()),Math.round(9*Math.random())]},play:function(){return r.getRandomCord()}};class i{constructor(e,t){this.difficulty=e,this.playerObj=t,this.algorithm=this.getAlgorithm()}play(){let[e,t]=this.algorithm();return{attackResponse:this.playerObj.opponent.gameboard.receiveAttack([e,t]),x:e,y:t}}getAlgorithm(){if("easy"===this.difficulty)return r.play}}class l{constructor(e){this.value=e,this.left=null,this.right=null}}class c{constructor(e){this.root=this.buildTree(e)}buildTree(e,t=0,n=e.length-1){if(t>n)return null;let a=Math.floor((t+n)/2),r=new l(e[a]);return r.left=this.buildTree(e,t,a-1),r.right=this.buildTree(e,a+1,n),r}insert(e){let t,n=this.root;for(;null!==n;){if(e===n.value)return;e>n.value?(t=n,n=n.right):(t=n,n=n.left)}let a=new l(e);e>t.value?t.right=a:t.left=a}bstContains(e,t=this.root){return null!==t&&(e===t.value||(e>t.value?this.bstContains(e,t.right):this.bstContains(e,t.left)))}}const s=function(e,t){return e+10*t},o=function(e){return e<10?[e,0]:[e%10,Math.floor(e/10)]},d={cordTree:null,cordArr:[],resetData:function(){this.cordTree=null,this.cordArr=[]},initiate:function(e){return this.cordTree=new c([-1]),d.assignRandomDirection(e),d.cordArr},assignRandomDirection:function(e){Object.keys(e).forEach((t=>{e[t].direction=d.generateDirectionToken(),d.generateRandomPlacement(e[t])}))},generateDirectionToken:()=>1===Math.round(2*Math.random())?"horizontal":"vertical",generateRandomPlacement(e){"horizontal"===e.direction?d.cordArr.push(d.placeH(e)):d.cordArr.push(d.placeV(e))},placeH:function(e){let t=d.genRX(e.health,7),n=d.genRY(1,9),a=n,r=t+e.health,i=e.direction;for(let a=t;a<r;a++)if(!this.checkCollision(a,n))return this.placeH(e);let l=null;for(let e=t;e<r;e++)l=d.getFlattenedCords(e,n),d.cordTree.insert(l);return{xStart:t,xEnd:r,yStart:n,yEnd:a,direction:i}},placeV:function(e){let t=d.genRY(e.health,7),n=d.genRX(1,9),a=t+e.health,r=n,i=e.direction;for(let r=t;r<a;r++)if(!this.checkCollision(n,r))return this.placeV(e);let l=null;for(let e=t;e<a;e++)l=d.getFlattenedCords(n,e),d.cordTree.insert(l);return{xStart:n,xEnd:r,yStart:t,yEnd:a,direction:i}},genRX:function(e,t){let n=Math.round(Math.random()*t);return n+e<=10?n:d.genRX(e,t)},genRY:function(e,t){let n=Math.round(Math.random()*t);return n+e<=10?n:d.genRY(e,t)},checkCollision:function(e,t){let n=this.getFlattenedCords(e,t);return!this.cordTree.bstContains(n)},getFlattenedCords:function(e,t){return s(e,t)}},p={playerDOMs:[],placeableShips:[],playerPlacing:0,currentShipContainer:null,createDOMBoard:function(){const e=document.createElement("div");let t=[];for(let n=0;n<100;n++){let a=document.createElement("div");a.classList.add("board-piece"),a.classList.add("available"),a.setAttribute("id",`cord-${n}`),t.push(a),e.appendChild(a)}return this.playerDOMs.push(t),e.classList.add("board-container"),e},unpackShips:function(e){const t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div");return t.classList.add("place-ships-menu"),n.classList.add("ships-to-place-container"),r.classList.add("current-ship"),a.classList.add("place-ship-text"),a.textContent="Currently placing:",t.appendChild(n),n.appendChild(a),n.appendChild(r),Object.keys(e).forEach((n=>{let a=this.unpackShip(e[n].health,n);t.appendChild(a),this.placeableShips.push(a)})),r.appendChild(this.placeableShips[0]),this.makeShipDraggable(this.placeableShips[0]),this.placeableShips.splice(0,1),this.currentShipContainer=r,t},getNextShip:function(){let e=document.querySelector(".current-ship");if(e.textContent="",0===this.placeableShips.length){let e=document.querySelector(".ships-to-place-container"),t=document.createElement("button");return t.classList.add("confirm-selection"),t.textContent="Ready?",e.appendChild(t),t}e.appendChild(this.placeableShips[0]),this.makeShipDraggable(this.placeableShips[0]),this.placeableShips.splice(0,1),this.currentShipContainer=e},getShipCount:function(){return this.placeableShips.length},makeShipDraggable:function(e){e.setAttribute("draggable","true")},unpackShip:function(e,t){const n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div");n.appendChild(a),n.appendChild(r);for(let t=0;t<e;t++){let e=document.createElement("span");e.classList.add("ship-piece"),r.appendChild(e)}return a.textContent=t,n.classList.add("ship-details-container"),r.classList.add("ship-container"),r.setAttribute("id",t),a.setAttribute("class","ship-name-display"),n},createButtonToolkit:function(){const e=document.createElement("div"),t=document.createElement("button");return e.classList.add("toolkit-container"),e.appendChild(t),t.textContent="Randomize Selection",t.classList.add("randomize-button"),t.addEventListener("click",u.randomizePlacement),t.addEventListener("click",p.markAllPlaced),e},markAllPlaced:function(){let e=document.querySelector(".ships-to-place-container"),t=document.createElement("button");t.classList.add("confirm-selection"),e.textContent="",t.textContent="Ready?",e.appendChild(t),t.addEventListener("click",p.confirmSelection)},confirmSelection:function(e){e.target.setAttribute("disabled",""),E.continue(d.cordArr)}},u={shipCord:[],randomizePlacement:function(){u.resetPlacement();let e=m.getShips(),t=d.initiate(e);u.unpackCords(t),d.resetData()},unpackCords:function(e){e.forEach((e=>{let{xStart:t,xEnd:n,yStart:a,yEnd:r}=e;if("horizontal"===e.direction)for(let e=t;e<n;e++){let t=s(e,a);u.shipCord.push(t),u.placeShip()}else for(let e=a;e<r;e++){let n=s(t,e);u.shipCord.push(n),u.placeShip()}}))},placeShip:function(){let e=u.shipCord[0],t=u.shipCord.length-1,n=u.shipCord[t];u.markDOMTaken(e,n),u.shipCord=[]},markDOMTaken:function(e,t){let n=p.playerPlacing,a=p.playerDOMs[n];for(;e<=t;e++)a[e].classList.remove("available"),a[e].classList.add("ship-present"),a[e].classList.add("unavailable")},resetPlacement:function(){document.querySelectorAll(".unavailable").forEach((e=>{e.classList.remove("unavailable"),e.classList.remove("ship-present"),e.classList.add("available")})),document.querySelectorAll(".dragover").forEach((e=>{e.classList.remove("dragover")})),document.querySelectorAll(".invalid").forEach((e=>{e.classList.remove("invalid")}))}},h={p1DOMBoard:null,p2DOMBoard:null,initiate:function(){const e=document.getElementById("content");e.textContent="";const t=document.createElement("div"),n=h.createP1DOMBoard(),a=h.createInfoTable(),r=h.createP2DOMBoard(),i=h.createNamesContainer();t.classList.add("active-game-controller"),t.appendChild(i),t.appendChild(n),t.appendChild(a),t.appendChild(r),e.appendChild(t)},createNamesContainer:function(){const e=document.createElement("div"),t=document.createElement("p"),n=document.createElement("p");return e.classList.add("name-container"),t.classList.add("player1-name"),n.classList.add("player2-name"),e.appendChild(t),e.appendChild(n),e},createP1DOMBoard:function(){const e=document.createElement("div");let t=[];for(let n=0;n<100;n++){let a=document.createElement("div");a.classList.add("player-one-board-piece"),a.classList.add("unhit"),a.setAttribute("id",`player-one-cord-${n}`),t.push(a),e.appendChild(a)}return h.p1DOMBoard=t,e.classList.add("player-one-board-container"),e},createInfoTable:function(){const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");return t.setAttribute("id","turn-info"),e.setAttribute("id","info-table"),n.setAttribute("id","click-to-spy"),n.textContent="Click to spy",e.appendChild(t),e.appendChild(n),e},createP2DOMBoard:function(){const e=document.createElement("div");let t=[];for(let n=0;n<100;n++){let a=document.createElement("div");a.classList.add("player-two-board-piece"),a.classList.add("unhit"),a.setAttribute("id",`player-two-cord-${n}`),t.push(a),e.appendChild(a)}return h.p2DOMBoard=t,e.classList.add("player-two-board-container"),e},createSpyModal:function(){const e=document.createElement("dialog"),t=document.createElement("div"),n=document.createElement("p"),a=document.createElement("p");return e.classList.add("spy-modal"),t.classList.add("close-modal"),n.classList.add("enemy-last-attack"),a.classList.add("enemy-ship-data"),e.appendChild(t),e.appendChild(n),e.appendChild(a),t.textContent="x",t.addEventListener("click",h.closeModal),e},closeModal:function(){document.querySelector("#modal-reserved-space").textContent=""},endGameModal:function(e){const t=document.querySelector("#modal-reserved-space"),n=document.createElement("dialog"),a=document.createElement("div"),r=document.createElement("p"),i=document.createElement("button");a.textContent="x",i.textContent="Restart?",t.textContent="",r.innerHTML=`Congratulations to <strong>${e}</strong> on their succesful conquest of the seas! <br><br>You can play again by pressing restart`,a.classList.add("close-modal"),r.classList.add("flavor-text"),i.classList.add("restart-button"),n.classList.add("end-game-modal"),a.addEventListener("click",h.closeModal),i.addEventListener("click",h.killswitch),t.appendChild(n),n.appendChild(a),n.appendChild(r),n.appendChild(i),n.show()},killswitch:function(){window.location.reload()}},m={players:[],turn:0,createPlayer:function(e,t=""){let n=new a(e,t);this.players.push(n)},unpackGame:function(e){return"pvp"===e.type?this.startPVP(e):this.startPVC(e)},startPVC:function(e){let t=new a("player",e.player1Name),n=new a("computer");return t.addOpponent(n),n.addOpponent(t),n=new i(e.cDifficulty,n),this.players.push(t),this.players.push(n),{player1:t,player2:n.playerObj,computerControls:n,gametype:"pvc"}},startPVP:function(e){let t=new a("player",e.player1Name),n=new a("player",e.player2Name);return t.addOpponent(n),n.addOpponent(t),this.players.push(t),this.players.push(n),{player1:t,player2:n,gametype:"pvp"}},getShips:()=>({carrier:{health:5,type:"carrier"},battleship:{health:4,type:"battleship"},cruiser:{health:3,type:"cruiser"},submarine:{health:3,type:"submarine"},destroyer:{health:2,type:"destroyer"}}),startGamePVC:function(e,t){let n=m.getShips(),a=[];Object.values(n).forEach((e=>{a.push(e)})),f.initiate(m.players[0],m.players[1],e,t,a)}},f={ships:null,computerControl:null,p1Object:null,p2Object:null,p1Cordinates:null,p2Cordinates:null,turnInfo:null,initiate:function(e,t,n,a,r){this.ships=r,this.p1Object=e,this.computerControl=t,this.p2Object=t.playerObj,this.p1Cordinates=n,this.p2Cordinates=a,this.placeShipsOnObj(),h.initiate(),f.activateListeners(),f.appendNames(),f.activateSpyTool(),this.turnInfo=document.querySelector("#turn-info"),this.turnInfo.textContent="Round Start"},appendNames:function(){const e=document.querySelector(".player1-name"),t=document.querySelector(".player2-name");e.textContent=f.p1Object.name,t.textContent=f.p2Object.name},activateListeners:function(){h.p2DOMBoard.forEach((e=>{e.addEventListener("click",f.fire)}))},fire:function(e){e.preventDefault(),e.target.removeEventListener("click",f.fire),e.target.classList.remove("unhit"),e.target.classList.add("hit");let t=f.getCord(e.target);f.playerShoots(t,e)},playerShoots:function(e,t){const n=o(e),a=f.p2Object.gameboard.receiveAttack(n);f.turnInfo.innerHTML=`Missle launch ${a.attack}! Ground Report: <strong>${a.message}</strong>`,"miss"!==a.message&&t.target.classList.add("has-ship"),console.log(f.computerLost()),f.computerLost()&&g(f.p1Object.name),f.computerResponds()},playerLost:function(){return 0===f.p1Object.gameboard.shipCount},computerLost:function(){return 0===f.p2Object.gameboard.shipCount},computerResponds:function(){let{attackResponse:e,x:t,y:n}=f.computerControl.play();if("repetition"===e.message)return f.computerResponds();let a=s(t,n);y.p2LastAttackResponse=e;let r=document.getElementById(`player-one-cord-${a}`);r.classList.remove("unhit"),r.classList.add("hit"),"miss"!==e.message&&r.classList.add("has-ship"),f.playerLost()&&g(f.p2Object.name)},getCord:function(e){return e.getAttribute("id").substring(16)},placeShipsOnObj:function(){let e=0;if(this.ships.forEach((t=>{f.p1Object.gameboard.placeShip(t,f.p1Cordinates[e]),e++})),e*=0,this.ships.forEach((t=>{f.p2Object.gameboard.placeShip(t,f.p2Cordinates[e]),e++})),this.p1Object.gameboard.shipCount<5)throw new Error("Something went wrong, you have less than 5 ships. Please re-fresh the page and place all the 5 ships again. Thank you for your understanding")},activateSpyTool:function(){document.querySelector("#click-to-spy").addEventListener("click",y.getEnemyInformation)}},y={p2LastAttackResponse:null,getEnemyInformation:function(e){if(e.preventDefault(),null===y.p2LastAttackResponse)return;let t=document.getElementById("modal-reserved-space");t.textContent="";let n=h.createSpyModal();t.appendChild(n),n.show();const a=document.querySelector(".enemy-last-attack"),r=document.querySelector(".enemy-ship-data");a.innerHTML=`MUAHAHAHAAHA. Our super evil missle launch was a ${y.p2LastAttackResponse.attack}! Ground Report: <strong>${y.p2LastAttackResponse.message}</strong>`,r.textContent=`${f.p1Object.name} sire, our intellegence reports that the enemy has ${f.p2Object.gameboard.shipCount} ships alive!`}};function g(e){h.endGameModal(e)}const C={playerBoardDOM:[],currentPlayerDOM:null,angle:"horizontal",cordArray:[],placedCords:[],initiate:function(e){this.currentPlayerDOM=e,this.playerBoardDOM.push(e),this.enableDrag(e)},getShipLength:function(){return p.currentShipContainer.childNodes[0].childNodes[1].children.length},enableDrag:function(e){v.initiate(e)},createShipCordObject:function(e,t){C.cordArray=[];let[n,a]=o(e),[r,i]=o(t);return{xStart:n,xEnd:r,yStart:a,yEnd:i,shipDirection:C.angle}},isAvailable:function(){let e=C.cordArray,t=!0;return e.forEach((e=>{e.classList.contains("available")||(t=!1)})),t},getCord:function(e){return e.getAttribute("id").substring(5)},placeNextShip:function(){0===p.getShipCount()?p.getNextShip().addEventListener("click",C.confirmSelection):p.getNextShip()},confirmSelection:function(e){e.target.setAttribute("disabled",""),E.continue(C.placedCords)},disableV:function(){C.currentPlayerDOM.forEach((e=>{e.removeEventListener("dragover",b.highlightPlacement),e.removeEventListener("dragleave",b.unhighlight),e.removeEventListener("drop",b.placeShip)}))},disableH:function(){C.currentPlayerDOM.forEach((e=>{e.removeEventListener("dragover",v.highlightPlacement),e.removeEventListener("dragleave",v.unhighlight),e.removeEventListener("drop",v.placeShip)}))},toggle:function(){const e=document.querySelector(".ship-container");"horizontal"===C.angle?(null!==e&&e.classList.add("vertical"),C.angle="vertical",C.disableH(),b.initiate(C.currentPlayerDOM)):(null!==e&&e.classList.remove("vertical"),C.angle="horizontal",C.disableV(),v.initiate(C.currentPlayerDOM))}},v={initiate:function(e){e.forEach((e=>{e.addEventListener("dragover",v.highlightPlacement),e.addEventListener("dragleave",v.unhighlight),e.addEventListener("drop",v.placeShip)}))},unhighlight:function(e){e.preventDefault(),C.cordArray.forEach((e=>{e.classList.remove("dragover")}))},highlightPlacement:function(e){e.preventDefault();let t=C.getShipLength(),n=Number(C.getCord(e.target));for(let e=0;e<t;e++){if(!0!==v.isValid(n+e,e))return C.cordArray.forEach((e=>{e.classList.add("invalid")})),setTimeout((()=>{C.cordArray.forEach((e=>{e.classList.remove("invalid")}))}),2e3);C.cordArray[e]=C.currentPlayerDOM[n+e],C.currentPlayerDOM[n+e].classList.add("dragover")}e.target.classList.add("dragover")},placeShip:function(e){e.preventDefault();let t=Number(C.getCord(e.target)),n=C.getShipLength();for(let e=0;e<n;e++){if(!v.isValid(t+e,e))return C.cordArray.forEach((e=>{e.classList.add("invalid")})),setTimeout((()=>{C.cordArray.forEach((e=>{e.classList.remove("invalid")}))}),2e3);C.cordArray[e]=C.currentPlayerDOM[t+e]}if(!0===C.isAvailable()){let e=C.cordArray.at(-1),n=C.getCord(e);v.markDOMTaken(t,n),C.placedCords.push(C.createShipCordObject(t,n)),C.placeNextShip(),C.toggle(),C.toggle()}},isValid:(e,t)=>e%10!=0||0===t,markDOMTaken:function(e,t){for(;e<=t;e++)C.currentPlayerDOM[e].classList.remove("available"),C.currentPlayerDOM[e].classList.add("ship-present"),C.currentPlayerDOM[e].classList.add("unavailable")}},b={initiate:function(e){e.forEach((e=>{e.addEventListener("dragover",b.highlightPlacement),e.addEventListener("dragleave",b.unhighlight),e.addEventListener("drop",b.placeShip)}))},unhighlight:function(e){e.preventDefault(),C.cordArray.forEach((e=>{e.classList.remove("dragover")}))},highlightPlacement:function(e){e.preventDefault();let t=C.getShipLength(),n=Number(C.getCord(e.target));for(let e=0;e<t;e++){if(!b.isValid(n+10*e,10*e))return C.cordArray.forEach((e=>{e.classList.add("invalid")})),setTimeout((()=>{C.cordArray.forEach((e=>{e.classList.remove("invalid")}))}),2e3);C.cordArray[e]=C.currentPlayerDOM[n+10*e],C.currentPlayerDOM[n+10*e].classList.add("dragover")}e.target.classList.add("dragover")},placeShip:function(e){e.preventDefault();let t=Number(C.getCord(e.target)),n=C.getShipLength();for(let e=0;e<n;e++){if(!b.isValid(t+10*e,10*e))return C.cordArray.forEach((e=>{e.classList.add("invalid")})),setTimeout((()=>{C.cordArray.forEach((e=>{e.classList.remove("invalid")}))}),2e3);C.cordArray[e]=C.currentPlayerDOM[t+10*e]}if(!0===C.isAvailable()){let e=C.cordArray.at(-1),n=C.getCord(e);b.markDOMTaken(t,n),C.placedCords.push(C.createShipCordObject(t,n)),C.placeNextShip(),C.toggle(),C.toggle()}},markDOMTaken:function(e,t){let n=e;for(;n<=t;n+=10)C.currentPlayerDOM[n].classList.remove("available"),C.currentPlayerDOM[n].classList.add("ship-present"),C.currentPlayerDOM[n].classList.add("unavailable")},isValid:(e,t)=>!(e>99)},S={contentSpace:document.querySelector("#content"),initiate:function(e){let t=m.unpackGame(e),n=p.createDOMBoard(),a=(p.createDOMBoard(),this.createTitle(t.player1.name)),r=this.createShipPlacer(),i=p.createButtonToolkit(),l=this.createDirectionControls();this.contentSpace.appendChild(a),this.contentSpace.appendChild(n),this.contentSpace.appendChild(l),this.contentSpace.appendChild(i),this.contentSpace.appendChild(r),function(e,t){let[n,a]=t;"pvc"===e.gameType?(E.set(e.gametype),L.initiate(n)):(E.set(e.gametype),k.initiate(n,a))}(t,p.playerDOMs)},showBoard:function(){},createDirectionControls:function(){const e=document.createElement("div"),t=document.createElement("button"),n=document.createElement("div");return n.textContent=`Placing: ${C.angle}`,t.textContent="Change placement direction",t.addEventListener("click",C.toggle),t.addEventListener("click",(()=>{n.textContent=`Placing: ${C.angle}`})),t.classList.add("toggle-direction-button"),e.classList.add("toggle-direction-container"),n.classList.add("current-direction"),e.appendChild(n),e.appendChild(t),e},createTitle(e){const t=document.createElement("div"),n=document.createElement("h2");return t.appendChild(n),n.textContent=`${e}, please place your ships!`,t.classList.add("title-container"),n.classList.add("title"),t},createShipPlacer:function(){const e=m.getShips();return p.unpackShips(e)}},E={gameType:null,p1Cords:null,p2Cords:null,set:function(e){this.gameType=e},continue:function(e){"pvc"===E.gameType?(E.p1Cords=e,L.autoPlace(),E.p2Cords=L.autoPlace(),m.startGamePVC(E.p1Cords,E.p2Cords)):(E.p1Cords=e,k.nextPlayer())},resetDrag:function(){C.reset()}},L={initiate:function(e){C.initiate(e)},autoPlace:function(){let e=m.getShips(),t=d.initiate(e);return d.resetData(),t}},k={p2Board:null,initiate:function(e,t){C.initiate(e),this.p2Board=t},nextPlayer:function(){C.initiate(this.p2Board)}},P={currentPlayer:1,contentSpace:document.querySelector("#content"),modalSpace:document.querySelector("#modal-reserved-space"),initiate:function(){let e=this.createTitle(),t=this.createForm();this.contentSpace.appendChild(e),this.contentSpace.appendChild(t)},createTitle:function(){const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");return t.textContent=`Player ${this.currentPlayer}, please enter your name`,n.textContent="Click me to read a quick rule run-down",e.appendChild(t),e.appendChild(n),e.classList.add("title-container"),t.classList.add("title"),n.classList.add("rules"),this.activateRulesPopup(n),e},activateRulesPopup(e){e.addEventListener("click",this.rulesPopup)},rulesPopup(e){e.preventDefault();const t=P.modalSpace,n=document.createElement("dialog"),a=document.createElement("div"),r=document.createElement("p");r.innerHTML="Classic battleship rules. Every hit gives a player another chance at a shot. However, if a player misses: there will be a 10 second window to pass the computer to the other player. <br> <br> The first to win is the first to destroy all ships of the opposing player. Pass and play! Don't cheat, you have 10 seconds exactly for that reason.",a.textContent="x",r.classList.add("pnp-rules"),a.classList.add("close-pnp-rules"),a.addEventListener("click",O.closeModal),t.appendChild(n),n.appendChild(a),n.appendChild(r),O.openModal(n)},createForm(){let e=document.createElement("form"),t=document.createElement("div"),n=document.createElement("input"),a=document.createElement("button");return n.setAttribute("type","text"),n.setAttribute("id","uname"),n.setAttribute("name","uname"),n.setAttribute("maxlength",30),n.setAttribute("minlength",2),a.textContent=`Submit Player${this.currentPlayer}'s name`,a.classList.add("submit-name"),e.appendChild(t),t.appendChild(n),t.appendChild(a),a.addEventListener("click",A.processName),e},clearAll(){P.contentSpace.textContent=""}},O={closeModal:function(e){e.preventDefault,P.modalSpace.textContent=""},openModal:function(e){e.showModal()}},A={gameInformation:{player1Name:"",player2Name:"",type:"pvp"},processName:function(e){e.preventDefault();let t=document.querySelector("#uname").value;""!=t&&void 0!==t||(t=`Player${P.currentPlayer}`),A.createPlayerObj(t)},createPlayerObj:function(e){1===P.currentPlayer?A.gameInformation.player1Name=e:A.gameInformation.player2Name=e,P.currentPlayer+=1,P.currentPlayer>2?(P.clearAll(),S.initiate(A.gameInformation)):(P.clearAll(),P.initiate())}},D={contentSpace:document.querySelector("#content"),initiate:function(){let e=this.createTitle(),t=this.createDifficultyChoice();this.contentSpace.appendChild(e),this.contentSpace.appendChild(t)},createTitle:function(){const e=document.createElement("div"),t=document.createElement("h2");return t.textContent="Please select the difficulty.",e.appendChild(t),e},createDifficultyChoice:function(){const e=document.createElement("div"),t=document.createElement("button"),n=document.createElement("button"),a=document.createElement("button");return e.classList.add("difficulty-buttons"),t.classList.add("difficulty-select"),n.classList.add("difficulty-select"),a.classList.add("difficulty-select"),e.appendChild(t),e.appendChild(n),e.appendChild(a),t.textContent="Easy",n.textContent="Medium (Under works)",a.textContent="⚠️Hard⚠️ (Under works)",n.setAttribute("disabled",""),a.setAttribute("disabled",""),t.addEventListener("click",M.callEasy),n.addEventListener("click",M.callNormal),a.addEventListener("click",M.callHard),e},clearAll:function(){D.contentSpace.textContent=""}},M={callEasy:function(e){e.preventDefault(),T.cDifficulty="easy",D.clearAll(),x.initiate()},callNormal:function(e){e.preventDefault(),T.cDifficulty="medium",D.clearAll(),x.initiate()},callHard:function(e){e.preventDefault(),T.cDifficulty="hard",D.clearAll(),x.initiate()}},x={contentSpace:document.querySelector("#content"),initiate:function(){let e=this.createTitle(),t=this.createForm();this.contentSpace.appendChild(e),this.contentSpace.appendChild(t)},createForm:function(){let e=document.createElement("form"),t=document.createElement("div"),n=document.createElement("input"),a=document.createElement("button");return n.setAttribute("type","text"),n.setAttribute("id","uname"),n.setAttribute("name","uname"),n.setAttribute("maxlength",30),n.setAttribute("minlength",2),a.textContent="Submit your name",a.classList.add("submit-name"),e.appendChild(t),t.appendChild(n),t.appendChild(a),a.addEventListener("click",x.processName),e},createTitle:function(){const e=document.createElement("div");return e.textContent="Player 1, please enter your name",e.classList.add("title"),e},processName:function(e){e.preventDefault();let t=document.querySelector("#uname").value;""!=t&&void 0!==t||(t="Player1"),T.player1Name=t,D.clearAll(),S.initiate(T)}},T={player1Name:"",type:"pvc",cDifficulty:""},w={contentSpace:document.querySelector("#content"),initiate:function(){let e=this.createTitle(),t=this.createForm();this.contentSpace.appendChild(e),this.contentSpace.appendChild(t)},createForm:function(){const e=document.createElement("form"),t=document.createElement("div"),n=document.createElement("button"),a=document.createElement("button");return t.classList.add("game-type-container"),e.classList.add("game-type"),n.classList.add("pvp"),a.classList.add("pvc"),n.textContent="Play against a player (Coming soon!)",a.textContent="Play against a computer",e.appendChild(t),t.appendChild(n),t.appendChild(a),this.activateListeners(n,a),n.setAttribute("disabled",""),e},createTitle(){const e=document.createElement("h2");return e.textContent="Play BattleShip",e},activateListeners(e,t){e.addEventListener("click",this.loadPVP),t.addEventListener("click",this.loadPVC)},loadPVP(e){e.preventDefault(),w.garbageCollect(),P.initiate()},loadPVC(e){e.preventDefault(),w.garbageCollect(),D.initiate()},garbageCollect(){this.contentSpace.textContent=""}};w.initiate()})();
//# sourceMappingURL=app.bundle.js.map